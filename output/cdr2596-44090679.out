
Due to MODULEPATH changes, the following have been reloaded:
  1) openmpi/2.1.1


Due to MODULEPATH changes, the following have been reloaded:
  1) openmpi/2.1.1

The following have been reloaded with a version change:
  1) cuda/10.0.130 => cuda/8.0.44

Start Time: Mon Jun 15 07:17:20 PDT 2020
Param path params_attn_pg.json
Model path models/train_1591573829/model/model_1000_1591574265.7504194
max_size of vocab was specified as 50000; we now have 50000 words. Stopping reading.
Finished constructing vocabulary of 50000 total words. Last word added: pathogens
cuda:0
example_generator completed reading all datafiles. No more data.
1000 example in 96 sec
/project/6025349/vincenth/.venv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:526: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/project/6025349/vincenth/.venv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:527: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/project/6025349/vincenth/.venv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:528: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/project/6025349/vincenth/.venv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:529: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/project/6025349/vincenth/.venv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:530: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/project/6025349/vincenth/.venv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:535: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])
WARNING:tensorflow:Bucket input queue is empty when calling next_batch. Bucket queue size: 0, Input queue size: 0
Can't locate XML/RegExp.pm in @INC (you may need to install the XML::RegExp module) (@INC contains: /cvmfs/soft.computecanada.ca/nix/var/nix/profiles/16.09/lib/perl5/site_perl/5.22.2/x86_64-linux-thread-multi /cvmfs/soft.computecanada.ca/nix/var/nix/profiles/16.09/lib/perl5/site_perl/5.22.2 /cvmfs/soft.computecanada.ca/nix/var/nix/profiles/16.09/lib/perl5/site_perl /cvmfs/soft.computecanada.ca/nix/var/nix/profiles/16.09/lib/perl5/5.22.2/x86_64-linux-thread-multi /cvmfs/soft.computecanada.ca/nix/var/nix/profiles/16.09/lib/perl5/5.22.2 /cvmfs/soft.computecanada.ca/nix/var/nix/profiles/16.09/lib/perl5 /home/vincenth/perl5/lib/perl5/x86_64-linux-thread-multi /home/vincenth/perl5/lib/perl5 /cvmfs/soft.computecanada.ca/nix/var/nix/profiles/16.09/lib/perl5/5.22.2/x86_64-linux-thread-multi /cvmfs/soft.computecanada.ca/nix/var/nix/profiles/16.09/lib/perl5/5.22.2 /cvmfs/soft.computecanada.ca/nix/var/nix/profiles/16.09/lib/perl5 /cvmfs/soft.computecanada.ca/nix/var/nix/profiles/16.09/lib/perl5/site_perl/5.22.2/x86_64-linux-thread-multi /cvmfs/soft.computecanada.ca/nix/var/nix/profiles/16.09/lib/perl5/site_perl/5.22.2 /cvmfs/soft.computecanada.ca/nix/var/nix/profiles/16.09/lib/perl5/site_perl /cvmfs/soft.computecanada.ca/nix/store/g8ds64pbnavscf7n754pjlx5cp1mkkv1-perl-5.22.2/lib/perl5/site_perl/5.22.2/x86_64-linux-thread-multi /cvmfs/soft.computecanada.ca/nix/store/g8ds64pbnavscf7n754pjlx5cp1mkkv1-perl-5.22.2/lib/perl5/site_perl/5.22.2 /cvmfs/soft.computecanada.ca/nix/store/g8ds64pbnavscf7n754pjlx5cp1mkkv1-perl-5.22.2/lib/perl5/5.22.2/x86_64-linux-thread-multi /cvmfs/soft.computecanada.ca/nix/store/g8ds64pbnavscf7n754pjlx5cp1mkkv1-perl-5.22.2/lib/perl5/5.22.2 .) at /home/vincenth/perl5/lib/perl5/XML/DOM.pm line 37.
BEGIN failed--compilation aborted at /home/vincenth/perl5/lib/perl5/XML/DOM.pm line 37.
Compilation failed in require at /home/vincenth/projects/def-jinguo/vincenth/evaluation/ROUGE-RELEASE-1.5.5/ROUGE-1.5.5.pl line 173.
BEGIN failed--compilation aborted at /home/vincenth/projects/def-jinguo/vincenth/evaluation/ROUGE-RELEASE-1.5.5/ROUGE-1.5.5.pl line 173.
Traceback (most recent call last):
  File "/cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/python/3.6.3/lib/python3.6/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/python/3.6.3/lib/python3.6/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/project/6025349/vincenth/PRSummarizer/prsum/prsum.py", line 566, in <module>
    fire.Fire(PRSum)
  File "/project/6025349/vincenth/.venv/lib/python3.6/site-packages/fire/core.py", line 138, in Fire
    component_trace = _Fire(component, args, parsed_flag_args, context, name)
  File "/project/6025349/vincenth/.venv/lib/python3.6/site-packages/fire/core.py", line 468, in _Fire
    target=component.__name__)
  File "/project/6025349/vincenth/.venv/lib/python3.6/site-packages/fire/core.py", line 672, in _CallAndUpdateTrace
    component = fn(*varargs, **kwargs)
  File "/project/6025349/vincenth/PRSummarizer/prsum/prsum.py", line 474, in select_model
    result_dict = decode_processor.decode()
  File "/project/6025349/vincenth/PRSummarizer/prsum/decode.py", line 137, in decode
    results = utils.rouge_eval(self._rouge_ref_dir, self._rouge_dec_dir)
  File "/project/6025349/vincenth/PRSummarizer/prsum/utils.py", line 136, in rouge_eval
    output = sp.check_output(cmd.split(' '), universal_newlines=True)
  File "/cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/python/3.6.3/lib/python3.6/subprocess.py", line 336, in check_output
    **kwargs).stdout
  File "/cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/python/3.6.3/lib/python3.6/subprocess.py", line 418, in run
    output=stdout, stderr=stderr)
subprocess.CalledProcessError: Command '['/home/vincenth/projects/def-jinguo/vincenth/evaluation/ROUGE-RELEASE-1.5.5/ROUGE-1.5.5.pl', '-e', '/home/vincenth/projects/def-jinguo/vincenth/evaluation/ROUGE-RELEASE-1.5.5/data', '-c', '95', '-r', '1000', '-n', '2', '-m', '-a', '/tmp/tmp_c98tlg9/settings.xml']' returned non-zero exit status 2.
Decoder has finished reading dataset for single_pass.
Scores of python rouge:
{'rouge-1': {'f': 0.00034411659244672297, 'p': 0.008144138952220948, 'r': 0.00017837962823282318}, 'rouge-2': {'f': 0.00023615679532458818, 'p': 0.00584930111656543, 'r': 0.00012156939940603402}, 'rouge-l': {'f': 0.0003343134937847579, 'p': 0.008078668217638743, 'r': 0.00017308141849789232}}
Now starting ROUGE eval...
Start Time: Mon Jun 15 07:17:20 PDT 2020
End Time: Mon Jun 15 07:25:30 PDT 2020
